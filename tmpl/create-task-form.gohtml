<!DOCTYPE html>
<html lang="en">
{{ block "create-task-form" . }}
    <div id="create-task-form">
        <form hx-post="/todo/item"
              class="px-5 pt-5 pb-1 border border-gray-200 dark:border-gray-700 mb-0 dark:bg-gray-900 ">
            {{ template "task-form-content" . }}
        </form>
    </div>
{{ end }}
{{ block "edit-task-form" .}}
    <div id="edit-task-form">
        <form hx-post="/todo/item/{{.Task.Id}}"
              class="px-5 pt-5 pb-1 border border-gray-200 dark:border-gray-700 mb-0 dark:bg-gray-900 ">
            {{ template "task-form-content" .FormData }}
        </form>
    </div>
{{ end}}
{{ block "task-form-content" . }}
    <div class="mb-5">
        <label class="block mb-2 text-sm font-medium text-gray-900 dark:text-white"> Description
            <input type="text"
                   name="description"{{ if .Values.description }} value="{{ .Values.description }}"{{end}}
                   class="bg-gray-50 mt-2 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"/></label>
    </div>
    <div class="mb-5">
        <label class="block mb-2 text-sm font-medium text-gray-900 dark:text-white"> Due date
            <input type="date"
                   name="due_date" {{ if .Values.due_date }} value="{{ .Values.due_date }}"{{end}}
                   class="bg-gray-50 mt-2 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"/></label>
    </div>
    <div class="mb-5">
        <label class="block mb-2 text-sm font-medium text-gray-900 dark:text-white"> Assigned To
            <input type="text"
                   name="assigned_to"{{ if .Values.assigned_to }} value="{{ .Values.assigned_to }}"{{end}}
                   class="bg-gray-50 mt-2 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"/></label>
    </div>
    <div class="mb-5">
        <label class="block mb-2 text-sm font-medium text-gray-900 dark:text-white"> Tag
            <select
                    name="tag"
                    class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
                <option {{ if eq .Values.tag "Project 1" }}selected{{end}} value="Project 1">Project 1</option>
                <option {{ if eq .Values.tag "Project 2" }}selected{{end}} value="Project 2">Project 2</option>
                <option {{ if eq .Values.tag "Personal" }}selected{{end}} value="Personal">Personal</option>
            </select>
        </label>
    </div>
    {{ if .Errors}}
        {{ range $key, $value := .Errors }}
            <div class="py-4 text-red-500">
                An error occurred with '{{ $key }}' with message '{{ $value }}'
            </div>
        {{ end }}
    {{end}}
    <button type="submit"
            class="text-green-700 hover:text-white border border-green-700 hover:bg-green-800 focus:ring-4
                        focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center
                        me-2 mb-2 dark:border-green-500 dark:text-green-500 dark:hover:text-white dark:hover:bg-green-600
                        dark:focus:ring-green-800 flex items-center">

        {{ .Submit }} task
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
             stroke="currentColor" class="size-6 ml-2">
            <path stroke-linecap="round" stroke-linejoin="round"
                  d="M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
        </svg>
    </button>
{{ end }}
</html>
